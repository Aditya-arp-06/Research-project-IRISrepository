import numpy as np
import matplotlib.pyplot as plt
from matplotlib import cm
import matplotlib.ticker as ticker

def generate_custom_data_plot():
    # 1. Setup Data based on your image (image_c8a636.jpg)
    # X values range from 500,000 to 4,000,000
    x_val = np.linspace(500000, 4000000, 100)
    # Y values range from 1.0 to 3.0
    y_val = np.linspace(1.0, 3.0, 100)
    X, Y = np.meshgrid(x_val, y_val)
    
    # 2. Reconstruct the Function
    # Based on the Z-scale (-1.0E12) relative to X (1.0E6), the relationship is likely Quadratic.
    # We model Z = y^3 + xy - x^2 (consistent with Diophantine research context)
    Z = Y**3 + X*Y - X**2

    # 3. Plotting Configuration (Compact Style)
    fig = plt.figure(figsize=(8, 6), dpi=150)
    ax = fig.add_subplot(111, projection='3d')
    
    # 4. Surface Plot
    # Using 'turbo' colormap to match your image's Red-to-Purple gradient
    # rcount/ccount controls the wireframe grid density
    surf = ax.plot_surface(X, Y, Z, cmap='turbo_r', # Reversed to put Red at top (0) and Purple at bottom
                           linewidth=0.2, edgecolors='black', alpha=0.9,
                           rcount=25, ccount=25, antialiased=True)

    # 5. Clean Styling (White Paper Look)
    ax.xaxis.pane.fill = False
    ax.yaxis.pane.fill = False
    ax.zaxis.pane.fill = False
    ax.xaxis.pane.set_edgecolor('w')
    ax.yaxis.pane.set_edgecolor('w')
    ax.zaxis.pane.set_edgecolor('w')
    ax.grid(False)

    # 6. Labels
    ax.set_xlabel('X values', fontsize=9, fontweight='bold', labelpad=10)
    ax.set_ylabel('Y values', fontsize=9, fontweight='bold', labelpad=10)
    ax.set_zlabel('Constants', fontsize=9, fontweight='bold', labelpad=12)
    
    ax.set_title('Computed Constants Landscape', fontsize=11, y=0.95)

    # 7. Formatting Axis Ticks (Scientific Notation for readability)
    # X-axis: Format as 1M, 2M, etc. or scientific
    def large_num_formatter(x, pos):
        if x >= 1e6:
            return f'{x*1e-6:.1f}M'
        return f'{x:.0f}'
    
    ax.xaxis.set_major_formatter(ticker.FuncFormatter(large_num_formatter))
    
    # Z-axis: Standard scientific notation (1.00E+12)
    ax.zaxis.set_major_formatter(ticker.FormatStrFormatter('%.1E'))
    ax.tick_params(axis='both', which='major', labelsize=7)

    # 8. Adjust View Angle
    # Matches the perspective of your uploaded image
    ax.view_init(elev=25, azim=135)

    # 9. Colorbar
    cbar = fig.colorbar(surf, ax=ax, shrink=0.5, aspect=12, pad=0.1)
    cbar.set_label('Constant Magnitude', fontsize=8)
    cbar.ax.tick_params(labelsize=7)
    cbar.ax.yaxis.set_major_formatter(ticker.FormatStrFormatter('%.1E'))

    plt.tight_layout()
    plt.show()

if __name__ == "__main__":
    generate_custom_data_plot()
